"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var d=i[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(e,d.key,d)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/angry-birds/serviceWorker.js").then(function(e){return console.log("service worker registered")}).catch(function(e){return console.log("service worker not registered",e)})});var Loader=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"global",value:function(){r.num=0,r.pageSize=135}},{key:"getPercent",value:function(e){var i=performance.getEntries(),t=0;i.forEach(function(e){void 0!==e.transferSize&&(t+=Number(e.transferSize))});var d=t/1e3,n=Math.ceil(d/e*100);r.updateLoader(n),100===r.num&&(r.updateLoader(100),clearInterval(r.interval),r.hideLayer())}},{key:"hideLayer",value:function(){var e=document.getElementById("loader");setTimeout(function(){e.style.display="none",document.body.style.overflow="auto"},300)}},{key:"updateLoader",value:function(e){var i=document.querySelector(".main-loader"),t=i.querySelector(".innerBar"),d=i.querySelector(".percent");t.style.width="".concat(e,"%"),d.textContent="".concat(e,"%")}}]),r}();Loader.global(),Loader.interval=setInterval(function(){return Loader.getPercent(Loader.pageSize)},1),window.addEventListener("load",function(){return Loader.num=100},!0);var Game=function(){function o(e,i,t,d,n,r,a){_classCallCheck(this,o),this.x=e,this.y=i,this.w=t,this.h=d,this.dx=n,this.dy=r,this.id=a}return _createClass(o,null,[{key:"global",value:function(){o.canvas=document.getElementById("canvas"),o.ctx=o.canvas.getContext("2d"),o.mql=window.matchMedia("(min-width: 768px)"),o.width=o.mql.matches?720:window.innerWidth-40,o.height=400,o.ground_h=50,o.up=!1,o.left=!1,o.right=!1,o.jump=!0,o.goldNum=0,o.goldSectorsArr=[5],o.speed=2,o.score=0,o.scoreArr=[],o.auto=!0,o.skippedKing=!0,o.startBtn=document.getElementById("start"),o.restartBtn=document.getElementById("restart"),o.pauseCon=document.getElementById("pauseCon")}}]),_createClass(o,[{key:"makeWorld",value:function(){o.ctx.drawImage(document.getElementById(this.id),this.x,this.y,this.w,this.h)}},{key:"collision",value:function(e){return!(this.y>e.y+e.h)&&(!(this.x+this.w<e.x)&&(!(this.y+this.h<e.y)&&!(this.x>e.x+e.w)))}}],[{key:"checkStorage",value:function(){return null===localStorage.getItem("score")?[]:JSON.parse(localStorage.getItem("score"))}},{key:"getHighestScore",value:function(){(o.scoreArr=o.checkStorage()).push(o.score);var e=Math.max.apply(Math,_toConsumableArray(o.scoreArr));o.scoreArr=[e],localStorage.setItem("score",JSON.stringify(o.scoreArr)),document.getElementById("highestScore").textContent="Highest Score: ".concat(o.scoreArr[0])}},{key:"responsiveness",value:function(){o.mql.matches?o.width=720:o.width=window.innerWidth-40,o.canvas.width=o.width,o.goldSectorsArr=[5]}},{key:"contoller",value:function(e){var i="keydown"==e.type;38===e.keyCode?o.up=i:37===e.keyCode?o.left=i:39===e.keyCode&&(o.right=i)}},{key:"birdRules",value:function(){o.up&&0==o.jump&&(bird.dy-=30,o.jump=!0),o.left&&(bird.dx-=.5),o.right&&(bird.dx+=.5),bird.dy+=1.5,bird.x+=bird.dx,bird.y+=bird.dy,bird.dx*=.9,bird.dy*=.9,bird.y>o.height-ground.h-bird.h&&(o.jump=!1,bird.y=o.height-ground.h-bird.h,bird.dy=0),bird.x<0?(bird.x=0,bird.dx=0):bird.x>o.width-bird.w&&(bird.x=o.width-bird.w,bird.dx=0)}},{key:"touchControl",value:function(e){e=e||window.event;var i=o.canvas.getBoundingClientRect(),t=e.touches[0].pageX-i.left,d=e.touches[0].pageY-i.top;"touchstart"==e.type?(o.startX=t,o.startY=d):(o.walkX=t-o.startX,o.walkY=d-o.startY,o.walkX<0&&0==o.jump&&(bird.dy-=30,bird.dx-=10,o.jump=!0),0<o.walkX&&0==o.jump&&(bird.dy-=30,bird.dx+=10,o.jump=!0),bird.dy+=.5,bird.x+=bird.dx,bird.y+=bird.dy,bird.dx*=.9,bird.dy*=.9,bird.y>o.height-ground.h-bird.h&&(o.jump=!1,bird.y=o.height-ground.h-bird.h,bird.dy=0),bird.x<0?(bird.x=0,bird.dx=0):bird.x>o.width-bird.w&&(bird.x=o.width-bird.w,bird.dx=0))}},{key:"runScore",value:function(){o.score+=1,document.getElementById("score").textContent="Score: ".concat(o.score)}},{key:"newPos",value:function(){pigS1_1.dx=o.speed,pigS1_2.dx=o.speed,pigL1_1.dx=o.speed,pigS3_1.dx=o.speed,pigS3_2.dx=o.speed,pigL3_1.dx=o.speed,pigS1_3.dx=o.speed,pigL2_1.dx=o.speed,pigS3_3.dx=o.speed,pigS3_4.dx=o.speed,pigL4_1.dx=o.speed,pigS1_4.dx=o.speed,pigS3_5.dx=o.speed,pigL4_2.dx=o.speed,pigS1_5.dx=o.speed,pigS1_6.dx=o.speed,pigL2_2.dx=o.speed,pigS3_6.dx=o.speed,pigS1_7.dx=o.speed,pigS1_8.dx=o.speed,pigL1_2.dx=o.speed,pigS3_7.dx=o.speed,pigS3_8.dx=o.speed,pigL3_2.dx=o.speed,king1.dx=o.speed,king2.dx=o.speed,pigS1_1.x-=pigS1_1.dx,pigS1_2.x-=pigS1_2.dx,pigL1_1.x-=pigL1_1.dx,pigS3_1.x-=pigS3_1.dx,pigS3_2.x-=pigS3_2.dx,pigL3_1.x-=pigL3_1.dx,pigS1_3.x-=pigS1_3.dx,pigL2_1.x-=pigL2_1.dx,pigS3_3.x-=pigS3_3.dx,pigS3_4.x-=pigS3_4.dx,pigL4_1.x-=pigL4_1.dx,pigS1_4.x-=pigS1_4.dx,pigS3_5.x-=pigS3_5.dx,pigL4_2.x-=pigL4_2.dx,pigS1_5.x-=pigS1_5.dx,pigS1_6.x-=pigS1_6.dx,pigL2_2.x-=pigL2_2.dx,pigS3_6.x-=pigS3_6.dx,pigS1_7.x-=pigS1_7.dx,pigS1_8.x-=pigS1_8.dx,pigL1_2.x-=pigL1_2.dx,pigS3_7.x-=pigS3_7.dx,pigS3_8.x-=pigS3_8.dx,pigL3_2.x-=pigL3_2.dx,king1.x-=king1.dx,king2.x-=king2.dx,king2.x+king2.w<0&&(o.skippedKing=!0,o.speed<10?o.speed+=2:o.speed=10,pigS1_1.x=o.width+100,pigS1_2.x=o.width+400,pigL1_1.x=o.width+700,pigS3_1.x=o.width+1e3,pigS3_2.x=o.width+1300,pigL3_1.x=o.width+1600,pigS1_3.x=o.width+1900,pigL2_1.x=o.width+2200,pigS3_3.x=o.width+2500,pigS3_4.x=o.width+2800,pigL4_1.x=o.width+3100,pigS1_4.x=o.width+3400,pigS3_5.x=o.width+3700,pigL4_2.x=o.width+4e3,pigS1_5.x=o.width+4300,pigS1_6.x=o.width+4600,pigL2_2.x=o.width+4900,pigS3_6.x=o.width+5200,pigS1_7.x=o.width+5500,pigS1_8.x=o.width+5800,pigL1_2.x=o.width+6100,pigS3_7.x=o.width+6400,pigS3_8.x=o.width+6700,pigL3_2.x=o.width+7e3,king1.x=o.width+7700,king2.x=o.width+8400),10<=bird.x-(king2.x+king2.w)&&o.skippedKing&&(skipKingSound.play(),o.skippedKing=!1)}},{key:"mvGold",value:function(){var e=(o.width-gold.w-10)/10;o.goldSectorsArr=[5];for(var i=0,t=0;t<10;t+=1)i+=e,o.goldSectorsArr.push(i);setTimeout(function(){gold.x=o.goldSectorsArr[Math.floor(Math.random()*o.goldSectorsArr.length)]},1e4)}},{key:"runGame",value:function(){o.ctx.clearRect(0,0,o.canvas.width,o.canvas.height),o.birdRules(),ground.makeWorld(),bg.makeWorld(),gold.makeWorld(),pigS1_1.makeWorld(),pigS1_2.makeWorld(),pigL1_1.makeWorld(),pigS3_1.makeWorld(),pigS3_2.makeWorld(),pigL3_1.makeWorld(),pigS1_3.makeWorld(),pigL2_1.makeWorld(),pigS3_3.makeWorld(),pigS3_4.makeWorld(),pigL4_1.makeWorld(),pigS1_4.makeWorld(),pigS3_5.makeWorld(),pigL4_2.makeWorld(),pigS1_5.makeWorld(),pigS1_6.makeWorld(),pigL2_2.makeWorld(),pigS3_6.makeWorld(),pigS1_7.makeWorld(),pigS1_8.makeWorld(),pigL1_2.makeWorld(),pigS3_7.makeWorld(),pigS3_8.makeWorld(),pigL3_2.makeWorld(),king1.makeWorld(),king2.makeWorld(),bird.makeWorld(),bird.collision(gold)&&(gold.x=-50,goldSound.play(),o.goldNum+=1,document.getElementById("goldNum").textContent="Golden Eggs: ".concat(o.goldNum),o.mvGold()),(bird.collision(pigS1_1)||bird.collision(pigS1_2)||bird.collision(pigL1_1)||bird.collision(pigS3_1)||bird.collision(pigS3_2)||bird.collision(pigL3_1)||bird.collision(pigS1_3)||bird.collision(pigL2_1)||bird.collision(pigS3_3)||bird.collision(pigS3_4)||bird.collision(pigL4_1)||bird.collision(pigS1_4)||bird.collision(pigS3_5)||bird.collision(pigL4_2)||bird.collision(pigS1_5)||bird.collision(pigS1_6)||bird.collision(pigL2_2)||bird.collision(pigS3_6)||bird.collision(pigS1_7)||bird.collision(pigS1_8)||bird.collision(pigL1_2)||bird.collision(pigS3_7)||bird.collision(pigS3_8)||bird.collision(pigL3_2)||bird.collision(king1)||bird.collision(king2))&&(bird.dx=0,bird.dy=0,crashSound.play(),clearInterval(o.interval),o.getHighestScore(),document.getElementById("gameOver").style.display="block",document.getElementById("pauseCon").style.display="none",o.auto=!1),o.newPos(),o.auto&&window.requestAnimationFrame(o.runGame)}},{key:"startGame",value:function(){document.getElementById("gameIntro").style.display="none",document.getElementById("gameContainer").style.display="block",o.runGame(),o.interval=setInterval(o.runScore,10)}},{key:"restartGame",value:function(){o.goldNum=0,document.getElementById("goldNum").textContent="Golden Eggs: ".concat(o.goldNum),o.goldSectorsArr=[5],o.score=0,o.speed=2,bird.x=50,bird.y=0,pigS1_1.x=o.width+100,pigS1_2.x=o.width+400,pigL1_1.x=o.width+700,pigS3_1.x=o.width+1e3,pigS3_2.x=o.width+1300,pigL3_1.x=o.width+1600,pigS1_3.x=o.width+1900,pigL2_1.x=o.width+2200,pigS3_3.x=o.width+2500,pigS3_4.x=o.width+2800,pigL4_1.x=o.width+3100,pigS1_4.x=o.width+3400,pigS3_5.x=o.width+3700,pigL4_2.x=o.width+4e3,pigS1_5.x=o.width+4300,pigS1_6.x=o.width+4600,pigL2_2.x=o.width+4900,pigS3_6.x=o.width+5200,pigS1_7.x=o.width+5500,pigS1_8.x=o.width+5800,pigL1_2.x=o.width+6100,pigS3_7.x=o.width+6400,pigS3_8.x=o.width+6700,pigL3_2.x=o.width+7e3,king1.x=o.width+7700,king2.x=o.width+8400,o.auto=!0,o.runGame(),o.interval=setInterval(o.runScore,10),document.getElementById("gameOver").style.display="none",document.getElementById("pauseCon").style.display="block"}},{key:"pauseGame",value:function(e){e.target.classList.contains("pauseBtn")&&(document.getElementById("pause").style.display="none",document.getElementById("resume").style.display="block",clearInterval(o.interval),o.auto=!1),e.target.classList.contains("resumeBtn")&&(document.getElementById("resume").style.display="none",document.getElementById("pause").style.display="block",o.interval=setInterval(o.runScore,10),o.auto=!0,o.runGame())}},{key:"init",value:function(){o.global(),o.canvas.width=o.width,o.canvas.height=o.height}}]),o}();Game.init();var goldSound=new Audio("/angry-birds/media/gold.mp3"),skipKingSound=new Audio("/angry-birds/media/skip-king.mp3"),crashSound=new Audio("/angry-birds/media/game-over.mp3"),ground=new Game(0,Game.height-Game.ground_h,720,Game.ground_h,0,0,"ground"),bg=new Game(0,0,720,350,0,0,"bg"),gold=new Game(Game.width/2-9.5,Game.height-Game.ground_h-25-100,19,25,0,0,"gold"),bird=new Game(50,0,26,25,0,0,"bird"),pigS1_1=new Game(Game.width+100,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigS1_2=new Game(Game.width+400,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigL1_1=new Game(Game.width+700,Game.height-Game.ground_h-50,51,50,0,0,"pig1"),pigS3_1=new Game(Game.width+1e3,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigS3_2=new Game(Game.width+1300,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigL3_1=new Game(Game.width+1600,Game.height-Game.ground_h-50,60,50,0,0,"pig3"),pigS1_3=new Game(Game.width+1900,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigL2_1=new Game(Game.width+2200,Game.height-Game.ground_h-50,52,50,0,0,"pig2"),pigS3_3=new Game(Game.width+2500,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigS3_4=new Game(Game.width+2800,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigL4_1=new Game(Game.width+3100,Game.height-Game.ground_h-50,59,50,0,0,"pig4"),pigS1_4=new Game(Game.width+3400,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigS3_5=new Game(Game.width+3700,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigL4_2=new Game(Game.width+4e3,Game.height-Game.ground_h-50,59,50,0,0,"pig4"),pigS1_5=new Game(Game.width+4300,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigS1_6=new Game(Game.width+4600,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigL2_2=new Game(Game.width+4900,Game.height-Game.ground_h-50,52,50,0,0,"pig2"),pigS3_6=new Game(Game.width+5200,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigS1_7=new Game(Game.width+5500,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigS1_8=new Game(Game.width+5800,Game.height-Game.ground_h-25,26,25,0,0,"pig1"),pigL1_2=new Game(Game.width+6100,Game.height-Game.ground_h-50,51,50,0,0,"pig1"),pigS3_7=new Game(Game.width+6400,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigS3_8=new Game(Game.width+6700,Game.height-Game.ground_h-25,30,25,0,0,"pig3"),pigL3_2=new Game(Game.width+7e3,Game.height-Game.ground_h-50,60,50,0,0,"pig3"),king1=new Game(Game.width+7700,Game.height-Game.ground_h-60,70,60,0,0,"king1"),king2=new Game(Game.width+8400,Game.height-Game.ground_h-78,70,78,0,0,"king2");Game.startBtn.addEventListener("click",Game.startGame,!0),Game.restartBtn.addEventListener("click",Game.restartGame,!0),Game.pauseCon.addEventListener("click",Game.pauseGame,!0),window.addEventListener("keydown",Game.contoller,!0),window.addEventListener("keyup",Game.contoller,!0),Game.canvas.addEventListener("touchstart",Game.touchControl,{passive:!0}),Game.canvas.addEventListener("touchmove",Game.touchControl,{passive:!0}),window.addEventListener("resize",Game.responsiveness,!0),window.addEventListener("DOMContentLoaded",Game.responsiveness,!0);
//# sourceMappingURL=../maps/app.min.js.map
